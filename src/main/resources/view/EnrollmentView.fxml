<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<ScrollPane xmlns="http://javafx.com/javafx"
    xmlns:fx="http://javafx.com/fxml"
    fx:controller="com.smartattendance.controller.student.EnrollmentController"
    fitToWidth="true" fitToHeight="true" style="-fx-background-color: transparent;">

    <BorderPane>
        <!-- Top Bar -->
        <top>
            <VBox spacing="10" style="-fx-padding: 15;">
                <Label text="Student Enrollment System">
                    <font>
                        <Font name="System Bold" size="24" />
                    </font>
                </Label>
                <Label fx:id="statusLabel" text="Status: Camera not started">
                    <font>
                        <Font size="14" />
                    </font>
                </Label>
            </VBox>
        </top>

        <!-- Center - Camera Feed -->
        <center>
            <VBox spacing="15" alignment="TOP_CENTER" style="-fx-padding: 20;">
                <!-- Camera Display -->
                <VBox alignment="CENTER" spacing="10">
                    <Label text="Live Camera Feed" style="-fx-font-size: 16; -fx-font-weight: bold;" />
                    <ImageView fx:id="currentFrame"
                        fitHeight="480" fitWidth="640" preserveRatio="true"
                        style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 2);
                                 -fx-background-color: #000000;
                                 -fx-border-color: #cccccc;
                                 -fx-border-width: 2;
                                 -fx-padding: 10;" />
                </VBox>

                <!-- Camera Controls -->
                <HBox spacing="15" alignment="CENTER">
                    <Button fx:id="button"
                        text="Start Camera"
                        onAction="#startCamera"
                        style="-fx-background-color: #4CAF50;
                                   -fx-text-fill: white;
                                   -fx-font-size: 14;
                                   -fx-padding: 10 20;
                                   -fx-min-width: 150;">
                        <font>
                            <Font name="System Bold" size="14" />
                        </font>
                        <cursor>
                            <javafx.scene.Cursor fx:constant="HAND" />
                        </cursor>
                    </Button>

                    <Button fx:id="captureButton"
                        text="Capture Faces"
                        onAction="#startCapture"
                        disable="true"
                        style="-fx-background-color: #2196F3;
                                   -fx-text-fill: white;
                                   -fx-font-size: 14;
                                   -fx-padding: 10 20;
                                   -fx-min-width: 150;">
                        <font>
                            <Font name="System Bold" size="14" />
                        </font>
                        <cursor>
                            <javafx.scene.Cursor fx:constant="HAND" />
                        </cursor>
                    </Button>
                </HBox>
            </VBox>
        </center>

        <!-- Right Panel - Instructions and Info -->
        <right>
            <VBox spacing="15" style="-fx-background-color: #ecf0f1; -fx-padding: 20;" prefWidth="320">
                <Label text="Enrollment Guide" style="-fx-font-size: 16; -fx-font-weight: bold;" />

                <Separator />

                <!-- Instructions -->
                <VBox spacing="10"
                    style="-fx-background-color: white;
                             -fx-padding: 15;
                             -fx-background-radius: 5;">
                    <Label text="Instructions:" style="-fx-font-weight: bold; -fx-font-size: 13;" />
                    <Label text="1. Click 'Start Camera' to begin" style="-fx-font-size: 11;" wrapText="true" />
                    <Label text="2. Position your face in center" style="-fx-font-size: 11;" wrapText="true" />
                    <Label text="3. Look directly at camera" style="-fx-font-size: 11;" wrapText="true" />
                    <Label text="4. Keep steady for detection" style="-fx-font-size: 11;" wrapText="true" />
                    <Label text="5. Wait for confirmation message" style="-fx-font-size: 11;" wrapText="true" />
                </VBox>

                <Separator />

                <!-- Face Detection Status -->
                <VBox spacing="8"
                    style="-fx-background-color: white;
                             -fx-padding: 15;
                             -fx-background-radius: 5;">
                    <Label text="Detection Status:" style="-fx-font-weight: bold; -fx-font-size: 13;" />
                    <Label text="ðŸŸ¢ Green = 1 face (Perfect)" style="-fx-font-size: 11; -fx-text-fill: #4CAF50;" wrapText="true" />
                    <Label text="ðŸŸ  Orange = No face" style="-fx-font-size: 11; -fx-text-fill: #FF9800;" wrapText="true" />
                    <Label text="ðŸ”´ Red = Multiple faces" style="-fx-font-size: 11; -fx-text-fill: #f44336;" wrapText="true" />
                </VBox>

                <Separator />

                <!-- Requirements -->
                <VBox spacing="8"
                    style="-fx-background-color: white;
                             -fx-padding: 15;
                             -fx-background-radius: 5;">
                    <Label text="Requirements:" style="-fx-font-weight: bold; -fx-font-size: 13;" />
                    <Label text="âœ“ Good lighting" style="-fx-font-size: 11;" wrapText="true" />
                    <Label text="âœ“ Clear face visibility" style="-fx-font-size: 11;" wrapText="true" />
                    <Label text="âœ“ No glasses (optional)" style="-fx-font-size: 11;" wrapText="true" />
                    <Label text="âœ“ Remove obstacles" style="-fx-font-size: 11;" wrapText="true" />
                </VBox>

                <Separator />

                <!-- Tips -->
                <VBox spacing="8"
                    style="-fx-background-color: #FFF3E0;
                             -fx-padding: 15;
                             -fx-background-radius: 5;">
                    <Label text="ðŸ’¡ Tips:" style="-fx-font-weight: bold; -fx-font-size: 12;" />
                    <Label text="Move slowly and naturally" style="-fx-font-size: 10;" wrapText="true" />
                    <Label text="Stay within frame center" style="-fx-font-size: 10;" wrapText="true" />
                    <Label text="Ensure face is 60-80% of frame" style="-fx-font-size: 10;" wrapText="true" />
                </VBox>
            </VBox>
        </right>

        <!-- Bottom - Status Bar -->
        <bottom>
            <HBox spacing="10" alignment="CENTER_LEFT"
                style="-fx-background-color: #eeeeee; -fx-padding: 10;">
                <Label text="Camera: Ready">
                    <font>
                        <Font size="12" />
                    </font>
                </Label>
                <Separator orientation="VERTICAL" />
                <Label text="Enrollment System Active">
                    <font>
                        <Font size="12" />
                    </font>
                </Label>
            </HBox>
        </bottom>
    </BorderPane>
</ScrollPane>
